<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>BodyPix Demo: Photo</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.15.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/body-pix"></script>
    <style>
     body {
       margin: 0;
       width: 100%;
     }
     .footer {
       position: fixed;
       left: 0;
       bottom: 0;
       width: 100%;
       color: black;
     }
     .footer-text {
         max-width: 600px;
         text-align: center;
         margin: auto;
     }
     .footer-text, #colors {
       font-family: Arial, Helvetica, sans-serif;
     }
     #colors {
       margin: 0;
       padding: 0;
       list-style: none;
     }
     #colors li {
       margin: 0;
     }
     #colors .color {
       width: 50px;
       height: 1em;
     }
     #colors li div {
       display: inline-block;
     }
     .footer-menu {
       display: none;
     }
     /* mobile */
     @media only screen and (max-width: 850px) {
       .footer {
         height: 46px;
       }
       .footer-text {
         display: none;
       }
       #main {
         width: 100%;
         height: 100%;
         overflow: hidden;
       }
     }
    </style>
 </head>

  <body>
    <img id='image' src='image.png'/>
  </body>
  <script>
    var outputStride = 16;
    var segmentationThreshold = 0.5;

    var imageElement = document.getElementById('image');

    bodyPix.load().then(function(net){
      console.log("net", net)
      return net.estimatePersonSegmentation(imageElement, outputStride, segmentationThreshold)
    }).then(function(segmentation){
      console.log(segmentation);
    })
  </script>
</html>
