<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">

  <title>TC prototype</title>

  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
  <script src="scripts/vue.min.js"></script>
  <script src="scripts/leaflet-heat.js"></script>
</head>

<body>
  <div id="side-nav">
    <div class="heading">
      <h1>CHI77</h1>
      <h2>by Together Chicago</h2>
      <h3>Chicago's 77 neighborhoods as seen through data.</h3>
    </div>
    <div id="controls" class="nicebox">
      <div>
        <select id="census-variable">
          <option id="all_btn"onclick="dropDown()">All</option>
          <option id="crime_btn" onclick="dropDown()">Crime in Chicago</option>
          <option id="school_btn" onclick="dropDown()">School Scores</option>
          <option id="grocery_btn" onclick="dropDown()">Grocery Stores</option>
      </select>
      </div>
      <div id="legend">
        <div id="census-min">min</div>
        <div class="color-key"><span id="data-caret">&#x25c6;</span></div>
        <div id="census-max">max</div>
      </div>
    </div>
    <div id="data-box" class="nicebox">
      <label id="data-label" for="data-value"></label>
      <span id="data-value"></span>
    </div>
  </div>
  <div id="map"></div>
  <div class="footer">
    <p>more text for the bottom</p>
  </div>

  <script>
    var map = L.map('map').setView([41.8781, -87.6298], 12);
    var censusMin = Number.MAX_VALUE,
      censusMax = -Number.MAX_VALUE;

    var crime_data = [
      [41.886756915, -87.677775451, 1],
      [41.796223493, -87.589022526, 1],
      [41.908355937, -87.746072935, 1],
      [41.880741173, -87.724572141, 1],
      [41.889056178, -87.657350631, 1],
      [41.788695058, -87.721369872, 1],
      [41.890006068, -87.712331343, 1],
      [41.766688959, -87.575093797, 1],
      [41.763131551, -87.722331261, 1],
      [41.813058634, -87.69068044, 1],
      [41.886530554, -87.74438154, 1],
      [41.793133372, -87.730865852, 1],
      [41.823879333, -87.613415811, 1],
      [41.817709879, -87.623059749, 1],
      [41.76906165, -87.673637783, 1],
      [41.733718213, -87.630668531, 1],
      [41.892603428, -87.704001961, 1],
      [41.880715353, -87.726434156, 1],
      [41.8469189, -87.729902712, 1],
      [41.892575745, -87.706466687, 1],
      [41.840058658, -87.704906076, 1],
      [41.847138601, -87.712426782, 1],
      [41.756707398, -87.566327248, 1],
      [41.895549905, -87.706859996, 1],
      [41.772985796, -87.644610724, 1],
      [41.801770459, -87.683681739, 1],
      [41.867071507, -87.726023529, 1],
      [41.807025794, -87.618094052, 1],
      [41.721439376, -87.614131833, 1],
      [41.776066564, -87.647642664, 1],
      [41.760643345, -87.650361578, 1],
      [41.942599013, -87.737664966, 1],
      [41.785964098, -87.721296842, 1],
      [41.770505963, -87.732305681, 1],
      [41.878458879, -87.756106926, 1],
      [42.004136147, -87.669342179, 1],
      [41.884942349, -87.746665654, 1],
      [41.840351308, -87.665815978, 1],
      [41.865835933, -87.710527744, 1],
      [41.872590005, -87.721333979, 1],
      [41.950918793, -87.796505332, 1],
      [41.803025167, -87.677503683, 1],
      [41.891538918, -87.753028938, 1],
      [41.710166594, -87.655822068, 1],
      [41.786549104, -87.622256111, 1],
      [41.87616575, -87.726502905, 1],
      [41.668103653, -87.639178322, 1],
      [41.755913646, -87.657573136, 1],
      [41.780584731, -87.716064699, 1],
      [41.869564997, -87.719633561, 1],
      [41.649348596, -87.617228408, 1],
      [41.804885125, -87.673076028, 1],
      [41.894269615, -87.722375844, 1],
      [41.962612921, -87.741979027, 1],
      [41.762618103, -87.629708206, 1],
      [41.750437558, -87.657835796, 1],
      [41.764748911, -87.644401916, 1],
      [41.879000971, -87.688801046, 1],
      [41.877568357, -87.642523226, 1],
      [41.879953451, -87.686400948, 1],
      [41.881183104, -87.68498211, 1],
      [41.781858073, -87.691032412, 1],
      [41.866843668, -87.625816668, 1],
      [41.918155261, -87.720281533, 1],
      [41.695801626, -87.611023246, 1],
      [41.763748386, -87.71503116, 1],
      [41.743902286, -87.663276191, 1],
      [41.765973813, -87.656565846, 1],
      [41.788273395, -87.652294162, 1],
      [41.834366146, -87.704741597, 1],
      [41.898544605, -87.68280833, 1],
      [41.885293195, -87.668051241, 1],
      [41.854273529, -87.624688864, 1],
      [41.883545536, -87.739194297, 1],
      [41.850909651, -87.706444228, 1],
      [41.904863044, -87.764714978, 1],
      [41.753115101, -87.664719615, 1],
      [41.809436954, -87.613093359, 1],
      [41.877908728, -87.731267321, 1],
      [41.886863814, -87.626851797, 1],
      [41.8642839, -87.729251188, 1],
      [41.894533438, -87.716287298, 1],
      [41.766015201, -87.590845351, 1],
      [41.751231425, -87.668315945, 1],
      [41.735445992, -87.601470929, 1],
      [41.878772025, -87.733671734, 1],
      [41.794670403, -87.631785431, 1],
      [41.813113656, -87.66994687, 1],
      [41.873928748, -87.756232138, 1],
      [41.775610824, -87.631703558, 1],
      [41.740531855, -87.657115193, 1],
      [41.736428017, -87.58521044, 1],
      [41.737315749, -87.649733111, 1],
      [41.877780999, -87.702362837, 1],
      [41.855772406, -87.623883118, 1],
      [41.709568147, -87.552432538, 1],
      [41.873851386, -87.69002407, 1],
      [41.737580248, -87.635752309, 1],
      [41.880871393, -87.71453495, 1],
      [41.760515265, -87.6673441, 1],
      [41.852419423, -87.627080475, 1],
      [41.977567645, -87.768441436, 1],
      [41.866298596, -87.700783285, 1],
    ];
    var crime_heat = L.heatLayer(crime_data, {
      radius: 12,
      blur: 0,
      maxZoom: 1,
      gradient: {
        0.4: 'lime',
        0.65: 'orange',
        1: 'red'
      },
    }).addTo(map);

    var school_data = [
      [41.77842134, -87.70297606, 1],
      [41.8781, -87.6298, 11],
      [41.9401778125, -87.7258584348, 1],
      [41.8781, -87.6298, 19],
      [41.8326245, -87.6168411, 1],
    ];
    var school_heat = L.heatLayer(school_data, {
      radius: 12,
      blur: 0,
      maxZoom: 1,
      gradient: {
        0.4: 'teal',
        0.65: 'green',
        1: 'blue'
      },
    }).addTo(map);

    var groceries_data = [
      [41.7514187003, -87.5822058165, 1],
      [41.7238602893, -87.6043647208, 1],
      [41.9401778125, -87.7258584348, 1],
      [41.8718636117, -87.7290573726, 1],
      [41.8598459614, -87.7053385540, 1],
      [41.8831944724, -87.6804664902, 1],
      [41.7866084095, -87.7231300289, 1],
      [41.9415658578, -87.6688604029, 1],
      [41.9904947718, -87.7484774142, 1],
      [41.8688897111, -87.6390989281, 1],
      [41.9485198030, -87.6496701249, 1],
      [41.8949686732, -87.6293991787, 1],
      [41.9093987878, -87.6530506979, 1],
      [41.9218942299, -87.7833975200, 1],
      [41.8759443554, -87.7452502275, 1],
      [41.9978179260, -87.6912518856, 1],
      [41.7357569772, -87.6578282347, 1],
      [41.7582933150, -87.6153541087, 1],
      [41.8093228701, -87.6133355212, 1],
      [41.72833654, -87.55286024, 1],
      [41.8326245, -87.6168411, 1],
      [41.79529732, -87.58782256, 1],
      [41.79623488, -87.63040492, 1],
      [41.77929761, -87.61574988, 1],
      [41.91071448, -87.72621042, 1],
      [41.84414469, -87.72477825, 1],
      [41.80876829, -87.66098821, 1],
      [41.85210065, -87.68905111, 1],
      [41.85128849, -87.72385084, 1],
      [41.97871026, -87.75715377, 1],
      [41.77795816, -87.7722942, 1],
      [41.77842134, -87.70297606, 1],
      [41.69631368, -87.59663224, 1],
      [41.75655031, -87.60548285, 1],
    ];
    var groceries_heat = L.heatLayer(groceries_data, {
      radius: 12,
      blur: 0,
      maxZoom: 1,
      gradient: {
        0.4: 'pink',
        0.65: 'purple',
        1: 'maroon'
      },
    }).addTo(map);

    function dropDown() {
      var x = document.getElementById('crime_btn');
      if (x === "crime_btn") {
        groceries_heat.remove(map);
        school_heat.remove(map);
      }
      var y = document.getElementById('school_btn');
      if (y === "school_btn") {
        groceries_heat.remove(map);
        crime_heat.remove(map);
      }
      var z = document.getElementById('grocery_btn');
      if (z === "grocery_btn") {
        school_heat.remove(map);
        crime_heat.remove(map);
      }
    };


    L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);
  </script>
</body>

</html>
